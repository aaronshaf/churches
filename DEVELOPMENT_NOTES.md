# DEVELOPMENT NOTES

## CRITICAL: DRIZZLE MIGRATION SYSTEM TRANSITION

**STATUS: READY FOR STANDARD DRIZZLE MIGRATION SYSTEM**

### IMPORTANT SETUP REQUIRED

**ONE-TIME INITIALIZATION NEEDED:**
```bash
pnpm tsx scripts/setup-standard-migrations.ts
```

**THIS SCRIPT WILL:**
- CREATE MIGRATION TRACKING TABLE WITHOUT AFFECTING ANY EXISTING DATA
- MARK CURRENT SCHEMA AS BASELINE
- ENABLE STANDARD DRIZZLE WORKFLOW GOING FORWARD

### STANDARD WORKFLOW (AFTER INITIALIZATION)

**FOR ALL FUTURE SCHEMA CHANGES:**
1. EDIT `src/db/schema.ts`
2. RUN `pnpm db:generate` TO CREATE MIGRATION FILES
3. REVIEW GENERATED SQL IN `/drizzle/` FOLDER
4. RUN `pnpm db:migrate` TO APPLY CHANGES

### DATABASE SAFETY

**CONFIRMED SAFE:**
- NO EXISTING DATA WILL BE LOST
- NO EXISTING TABLES WILL BE MODIFIED
- ONLY ADDS MIGRATION TRACKING TABLE
- COMPLETELY REVERSIBLE IF NEEDED

### CLEANUP AFTER TRANSITION

**THESE CAN BE REMOVED ONCE STANDARD SYSTEM IS CONFIRMED WORKING:**
- `/src/db/migrations/` FOLDER (OLD CUSTOM MIGRATIONS)
- `scripts/run-migration.ts` (OLD CUSTOM SCRIPT)
- OTHER MANUAL MIGRATION SCRIPTS IN `/scripts/`

### BENEFITS OF STANDARD SYSTEM

- PROPER VERSION CONTROL OF SCHEMA CHANGES
- SAFE PRODUCTION DEPLOYMENTS
- TEAM COLLABORATION ON DATABASE CHANGES
- AUTOMATIC ROLLBACK CAPABILITIES
- NO MORE CUSTOM MIGRATION SCRIPTS TO MAINTAIN

**DATE CREATED:** 2025-01-04
**PRIORITY:** HIGH - SHOULD BE COMPLETED BEFORE NEXT MAJOR SCHEMA CHANGES